2025-08-25 14:53:41.107 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 14:53:41.342 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 14:53:41.353 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:53:41.358 +01:00 [INF] Hosting environment: Development
2025-08-25 14:53:41.362 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 14:53:50.381 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/ - null null
2025-08-25 14:53:50.480 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 14:53:50.619 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/ - 404 0 null 241.7307ms
2025-08-25 14:53:50.701 +01:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5043/, Response status code: 404
2025-08-25 14:53:58.327 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger - null null
2025-08-25 14:53:58.350 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger - 301 0 null 23.9901ms
2025-08-25 14:53:58.386 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 14:53:58.583 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 197.2947ms
2025-08-25 14:53:58.667 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui.css - null null
2025-08-25 14:53:58.669 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.css - null null
2025-08-25 14:53:58.671 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui-bundle.js - null null
2025-08-25 14:53:58.672 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui-standalone-preset.js - null null
2025-08-25 14:53:58.674 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.js - null null
2025-08-25 14:53:58.749 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.js - 200 null application/javascript;charset=utf-8 75.0051ms
2025-08-25 14:53:58.758 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.css - 200 202 text/css 89.6134ms
2025-08-25 14:53:58.785 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui-standalone-preset.js - 200 229223 text/javascript 112.9195ms
2025-08-25 14:53:58.787 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui-bundle.js - 200 1485750 text/javascript 115.2493ms
2025-08-25 14:53:58.790 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/swagger-ui.css - 200 155175 text/css 123.018ms
2025-08-25 14:53:59.361 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/favicon-32x32.png - null null
2025-08-25 14:53:59.379 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/favicon-32x32.png - 200 628 image/png 17.4537ms
2025-08-25 14:54:00.554 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 14:54:00.964 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 409.6984ms
2025-08-25 14:54:11.620 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/programs/all - null null
2025-08-25 14:54:11.713 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.GetAllPrograms (Presentation)'
2025-08-25 14:54:11.778 +01:00 [INF] Route matched with {action = "GetAllPrograms", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPrograms() on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 14:54:18.923 +01:00 [INF] Executed DbCommand (386ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DegreeType", p."Field", p."ProgramName", p."StudyMode"
FROM "PostgraduatePrograms" AS p
2025-08-25 14:54:19.250 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Domain.Entities.Models.PostgraduateProgram, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 14:54:19.304 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.GetAllPrograms (Presentation) in 7505.7876ms
2025-08-25 14:54:19.311 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.GetAllPrograms (Presentation)'
2025-08-25 14:54:19.334 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/programs/all - 200 null application/json; charset=utf-8 7713.3066ms
2025-08-25 14:54:38.714 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/programs/create - application/json 101
2025-08-25 14:54:38.740 +01:00 [INF] CORS policy execution failed.
2025-08-25 14:54:38.746 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 14:54:38.759 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:54:38.785 +01:00 [INF] Route matched with {action = "CreateProgram", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProgram(Application.DTOs.CreateProgramDto) on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 14:54:39.480 +01:00 [ERR] Failed executing DbCommand (376ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PostgraduatePrograms" ("DegreeType", "Field", "ProgramName", "StudyMode")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-08-25 14:54:39.528 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Repository.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-25 14:54:39.604 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.CreateProgram (Presentation) in 808.7939ms
2025-08-25 14:54:39.619 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:54:39.625 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infrastructure.Repository.ProgramRepository.CreateProgramAsync(PostgraduateProgram program) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\ProgramRepository.cs:line 21
   at Application.Services.ProgramService.CreateProgramAsync(CreateProgramDto programDto) in C:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\ProgramService.cs:line 27
   at Presentation.Controllers.ProgramController.CreateProgram(CreateProgramDto programDto) in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\ProgramController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-25 14:54:39.789 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/programs/create - 500 null text/plain; charset=utf-8 1074.3251ms
2025-08-25 14:55:53.632 +01:00 [INF] Application is shutting down...
2025-08-25 14:57:26.231 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 14:57:26.423 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 14:57:26.432 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 14:57:26.437 +01:00 [INF] Hosting environment: Development
2025-08-25 14:57:26.440 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 14:58:00.564 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/programs/create - application/json 101
2025-08-25 14:58:00.642 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 14:58:00.707 +01:00 [INF] CORS policy execution failed.
2025-08-25 14:58:00.711 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 14:58:00.782 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:58:00.833 +01:00 [INF] Route matched with {action = "CreateProgram", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProgram(Application.DTOs.CreateProgramDto) on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 14:58:06.805 +01:00 [ERR] Failed executing DbCommand (439ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PostgraduatePrograms" ("DegreeType", "Field", "ProgramName", "StudyMode")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-08-25 14:58:06.892 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Repository.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-25 14:58:07.168 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.CreateProgram (Presentation) in 6299.1644ms
2025-08-25 14:58:07.200 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:58:07.216 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infrastructure.Repository.ProgramRepository.CreateProgramAsync(PostgraduateProgram program) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\ProgramRepository.cs:line 21
   at Application.Services.ProgramService.CreateProgramAsync(CreateProgramDto programDto) in c:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\ProgramService.cs:line 27
   at Presentation.Controllers.ProgramController.CreateProgram(CreateProgramDto programDto) in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\ProgramController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-25 14:58:07.481 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/programs/create - 500 null text/plain; charset=utf-8 6920.4095ms
2025-08-25 14:58:25.514 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/programs/create - application/json 99
2025-08-25 14:58:25.566 +01:00 [INF] CORS policy execution failed.
2025-08-25 14:58:25.572 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 14:58:25.581 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:58:25.590 +01:00 [INF] Route matched with {action = "CreateProgram", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProgram(Application.DTOs.CreateProgramDto) on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 14:58:25.995 +01:00 [ERR] Failed executing DbCommand (238ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PostgraduatePrograms" ("DegreeType", "Field", "ProgramName", "StudyMode")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-08-25 14:58:26.013 +01:00 [ERR] An exception occurred in the database while saving changes for context type 'Infrastructure.Repository.RepositoryContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-08-25 14:58:26.083 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.CreateProgram (Presentation) in 481.9641ms
2025-08-25 14:58:26.095 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 14:58:26.101 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23505: duplicate key value violates unique constraint "PK_PostgraduatePrograms"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23505
    MessageText: duplicate key value violates unique constraint "PK_PostgraduatePrograms"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: PostgraduatePrograms
    ConstraintName: PK_PostgraduatePrograms
    File: nbtinsert.c
    Line: 666
    Routine: _bt_check_unique
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Infrastructure.Repository.ProgramRepository.CreateProgramAsync(PostgraduateProgram program) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\ProgramRepository.cs:line 21
   at Application.Services.ProgramService.CreateProgramAsync(CreateProgramDto programDto) in c:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\ProgramService.cs:line 27
   at Presentation.Controllers.ProgramController.CreateProgram(CreateProgramDto programDto) in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\ProgramController.cs:line 26
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-25 14:58:26.272 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/programs/create - 500 null text/plain; charset=utf-8 759.7499ms
2025-08-25 15:00:55.064 +01:00 [INF] Application is shutting down...
2025-08-25 15:06:12.487 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:06:12.821 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:06:12.829 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:06:12.833 +01:00 [INF] Hosting environment: Development
2025-08-25 15:06:12.837 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:06:23.620 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/programs/create - application/json 99
2025-08-25 15:06:23.710 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:06:23.779 +01:00 [INF] CORS policy execution failed.
2025-08-25 15:06:23.787 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 15:06:23.864 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 15:06:23.921 +01:00 [INF] Route matched with {action = "CreateProgram", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProgram(Application.DTOs.CreateProgramDto) on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 15:06:29.763 +01:00 [INF] Executed DbCommand (445ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "PostgraduatePrograms" ("DegreeType", "Field", "ProgramName", "StudyMode")
VALUES (@p0, @p1, @p2, @p3)
RETURNING "Id";
2025-08-25 15:06:29.954 +01:00 [INF] Executing CreatedAtActionResult, writing value of type 'Domain.Entities.Models.PostgraduateProgram'.
2025-08-25 15:06:30.135 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.CreateProgram (Presentation) in 6191.1352ms
2025-08-25 15:06:30.155 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.CreateProgram (Presentation)'
2025-08-25 15:06:30.188 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/programs/create - 201 null application/json; charset=utf-8 6575.3008ms
2025-08-25 15:06:43.767 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/programs/all - null null
2025-08-25 15:06:43.832 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.GetAllPrograms (Presentation)'
2025-08-25 15:06:43.860 +01:00 [INF] Route matched with {action = "GetAllPrograms", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllPrograms() on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 15:06:44.876 +01:00 [INF] Executed DbCommand (333ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DegreeType", p."Field", p."ProgramName", p."StudyMode"
FROM "PostgraduatePrograms" AS p
2025-08-25 15:06:45.173 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Domain.Entities.Models.PostgraduateProgram, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 15:06:45.206 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.GetAllPrograms (Presentation) in 1331.7675ms
2025-08-25 15:06:45.216 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.GetAllPrograms (Presentation)'
2025-08-25 15:06:45.228 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/programs/all - 200 null application/json; charset=utf-8 1462.9114ms
2025-08-25 15:14:05.887 +01:00 [INF] Application is shutting down...
2025-08-25 15:14:16.131 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:14:16.366 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:14:16.382 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:14:16.391 +01:00 [INF] Hosting environment: Development
2025-08-25 15:14:16.398 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:16:32.856 +01:00 [INF] Application is shutting down...
2025-08-25 15:16:44.161 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:16:44.398 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:16:44.405 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:16:44.409 +01:00 [INF] Hosting environment: Development
2025-08-25 15:16:44.413 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:16:47.762 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 15:16:47.948 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 188.0518ms
2025-08-25 15:16:49.466 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 15:16:49.772 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 306.6773ms
2025-08-25 15:17:17.607 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/dashboard/programs/4 - null null
2025-08-25 15:17:17.642 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:17:17.762 +01:00 [INF] Executing endpoint 'Presentation.Controllers.ProgramController.GetProgramById (Presentation)'
2025-08-25 15:17:17.836 +01:00 [INF] Route matched with {action = "GetProgramById", controller = "Program"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProgramById(Int32) on controller Presentation.Controllers.ProgramController (Presentation).
2025-08-25 15:17:26.726 +01:00 [INF] Executed DbCommand (415ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT p."Id", p."DegreeType", p."Field", p."ProgramName", p."StudyMode"
FROM "PostgraduatePrograms" AS p
WHERE p."Id" = @__id_0
LIMIT 1
2025-08-25 15:17:26.831 +01:00 [INF] Executing OkObjectResult, writing value of type 'Domain.Entities.Models.PostgraduateProgram'.
2025-08-25 15:17:26.892 +01:00 [INF] Executed action Presentation.Controllers.ProgramController.GetProgramById (Presentation) in 9034.597ms
2025-08-25 15:17:26.904 +01:00 [INF] Executed endpoint 'Presentation.Controllers.ProgramController.GetProgramById (Presentation)'
2025-08-25 15:17:26.936 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/dashboard/programs/4 - 200 null application/json; charset=utf-8 9329.2935ms
2025-08-25 15:17:37.127 +01:00 [INF] Request starting HTTP/1.1 DELETE http://localhost:5043/api/dashboard/programs/233 - null null
2025-08-25 15:17:37.153 +01:00 [INF] CORS policy execution failed.
2025-08-25 15:17:37.157 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 15:17:37.178 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-25 15:17:37.195 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 15:17:37.201 +01:00 [INF] Request finished HTTP/1.1 DELETE http://localhost:5043/api/dashboard/programs/233 - 401 0 null 74.3449ms
2025-08-25 15:21:44.162 +01:00 [INF] Application is shutting down...
2025-08-25 15:24:56.988 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:24:57.388 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:24:57.394 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:24:57.398 +01:00 [INF] Hosting environment: Development
2025-08-25 15:24:57.401 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:25:00.595 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 15:25:00.796 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 203.6561ms
2025-08-25 15:25:02.152 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 15:25:02.693 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 540.8732ms
2025-08-25 15:25:20.403 +01:00 [INF] Application is shutting down...
2025-08-25 15:26:39.415 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:26:39.679 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:26:39.686 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:26:39.690 +01:00 [INF] Hosting environment: Development
2025-08-25 15:26:39.694 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:27:36.798 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/user/profile - null null
2025-08-25 15:27:36.854 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:27:36.947 +01:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-08-25 15:27:36.958 +01:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-25 15:27:36.970 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/user/profile - 401 0 null 174.2578ms
2025-08-25 15:28:11.200 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/authentication/Register - application/json 144
2025-08-25 15:28:11.220 +01:00 [INF] CORS policy execution failed.
2025-08-25 15:28:11.224 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 15:28:11.239 +01:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.RegisterUser (Presentation)'
2025-08-25 15:28:11.278 +01:00 [INF] Route matched with {action = "RegisterUser", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterUser(Application.DTOs.UserForRegistrationDto) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-08-25 15:28:17.699 +01:00 [INF] Executed DbCommand (395ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-25 15:28:18.163 +01:00 [INF] Executed DbCommand (316ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-25 15:28:18.985 +01:00 [INF] Executed DbCommand (302ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?' (DbType = DateTime), @p4='?', @p5='?' (DbType = Boolean), @p6='?', @p7='?', @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime), @p10='?', @p11='?', @p12='?', @p13='?', @p14='?' (DbType = Boolean), @p15='?', @p16='?' (DbType = DateTime), @p17='?', @p18='?', @p19='?' (DbType = Boolean), @p20='?' (DbType = DateTime), @p21='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "AspNetUsers" ("Id", "AccessFailedCount", "ConcurrencyStamp", "CreatedAt", "Email", "EmailConfirmed", "FirstName", "LastName", "LockoutEnabled", "LockoutEnd", "NormalizedEmail", "NormalizedUserName", "PasswordHash", "PhoneNumber", "PhoneNumberConfirmed", "RefreshToken", "RefreshTokenExpiryTime", "Role", "SecurityStamp", "TwoFactorEnabled", "UpdatedAt", "UserName")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-08-25 15:28:19.033 +01:00 [INF] Executing StatusCodeResult, setting HTTP status code 201
2025-08-25 15:28:19.051 +01:00 [INF] Executed action Presentation.Controllers.AuthenticationController.RegisterUser (Presentation) in 7753.372ms
2025-08-25 15:28:19.062 +01:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.RegisterUser (Presentation)'
2025-08-25 15:28:19.096 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/authentication/Register - 201 0 null 7896.3162ms
2025-08-25 15:28:41.531 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/authentication/login - application/json 58
2025-08-25 15:28:41.553 +01:00 [INF] CORS policy execution failed.
2025-08-25 15:28:41.558 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 15:28:41.565 +01:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Authenticate (Presentation)'
2025-08-25 15:28:41.585 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(Application.DTOs.UserForAuthenticationDto) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-08-25 15:28:41.991 +01:00 [INF] Executed DbCommand (242ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-25 15:28:42.559 +01:00 [INF] Executed DbCommand (236ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-25 15:28:42.837 +01:00 [INF] Executed DbCommand (244ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-25 15:28:43.204 +01:00 [INF] Executed DbCommand (241ms) [Parameters=[@p21='?', @p0='?' (DbType = Int32), @p1='?', @p22='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?' (DbType = DateTime), @p20='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "CreatedAt" = @p2, "Email" = @p3, "EmailConfirmed" = @p4, "FirstName" = @p5, "LastName" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "RefreshToken" = @p14, "RefreshTokenExpiryTime" = @p15, "Role" = @p16, "SecurityStamp" = @p17, "TwoFactorEnabled" = @p18, "UpdatedAt" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22;
2025-08-25 15:28:43.359 +01:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.TokenDto'.
2025-08-25 15:28:43.388 +01:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Authenticate (Presentation) in 1788.1293ms
2025-08-25 15:28:43.398 +01:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Authenticate (Presentation)'
2025-08-25 15:28:43.411 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/authentication/login - 200 null application/json; charset=utf-8 1879.9409ms
2025-08-25 15:29:45.704 +01:00 [INF] Application is shutting down...
2025-08-25 15:33:34.257 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:33:34.546 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:33:34.556 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:33:34.565 +01:00 [INF] Hosting environment: Development
2025-08-25 15:33:34.573 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:33:38.221 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 15:33:38.387 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 169.3359ms
2025-08-25 15:33:40.876 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 15:33:41.209 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 332.7791ms
2025-08-25 15:33:59.412 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 15:33:59.434 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 22.123ms
2025-08-25 15:34:00.382 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 15:34:00.427 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 44.2062ms
2025-08-25 15:39:30.183 +01:00 [INF] Application is shutting down...
2025-08-25 15:40:48.888 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:40:49.158 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:40:49.170 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:40:49.175 +01:00 [INF] Hosting environment: Development
2025-08-25 15:40:49.181 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:45:25.505 +01:00 [INF] Application is shutting down...
2025-08-25 15:46:47.649 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:46:47.870 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:46:47.877 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:46:47.882 +01:00 [INF] Hosting environment: Development
2025-08-25 15:46:47.886 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:46:52.551 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/index.html - null null
2025-08-25 15:46:52.759 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/index.html - 200 null text/html;charset=utf-8 210.1249ms
2025-08-25 15:46:55.477 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - null null
2025-08-25 15:46:55.764 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 289.9822ms
2025-08-25 15:47:49.857 +01:00 [INF] Request starting HTTP/1.1 POST http://localhost:5043/api/authentication/login - application/json 58
2025-08-25 15:47:49.892 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:47:49.967 +01:00 [INF] CORS policy execution failed.
2025-08-25 15:47:49.974 +01:00 [INF] Request origin http://localhost:5043 does not have permission to access the resource.
2025-08-25 15:47:50.089 +01:00 [INF] Executing endpoint 'Presentation.Controllers.AuthenticationController.Authenticate (Presentation)'
2025-08-25 15:47:50.149 +01:00 [INF] Route matched with {action = "Authenticate", controller = "Authentication"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Authenticate(Application.DTOs.UserForAuthenticationDto) on controller Presentation.Controllers.AuthenticationController (Presentation).
2025-08-25 15:47:56.567 +01:00 [INF] Executed DbCommand (450ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-25 15:47:57.495 +01:00 [INF] Executed DbCommand (253ms) [Parameters=[@__normalizedUserName_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedUserName" = @__normalizedUserName_0
LIMIT 1
2025-08-25 15:47:57.902 +01:00 [INF] Executed DbCommand (338ms) [Parameters=[@__normalizedEmail_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM "AspNetUsers" AS a
WHERE a."NormalizedEmail" = @__normalizedEmail_0
LIMIT 2
2025-08-25 15:47:58.396 +01:00 [INF] Executed DbCommand (242ms) [Parameters=[@p21='?', @p0='?' (DbType = Int32), @p1='?', @p22='?', @p2='?' (DbType = DateTime), @p3='?', @p4='?' (DbType = Boolean), @p5='?', @p6='?', @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTime), @p9='?', @p10='?', @p11='?', @p12='?', @p13='?' (DbType = Boolean), @p14='?', @p15='?' (DbType = DateTime), @p16='?', @p17='?', @p18='?' (DbType = Boolean), @p19='?' (DbType = DateTime), @p20='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "AspNetUsers" SET "AccessFailedCount" = @p0, "ConcurrencyStamp" = @p1, "CreatedAt" = @p2, "Email" = @p3, "EmailConfirmed" = @p4, "FirstName" = @p5, "LastName" = @p6, "LockoutEnabled" = @p7, "LockoutEnd" = @p8, "NormalizedEmail" = @p9, "NormalizedUserName" = @p10, "PasswordHash" = @p11, "PhoneNumber" = @p12, "PhoneNumberConfirmed" = @p13, "RefreshToken" = @p14, "RefreshTokenExpiryTime" = @p15, "Role" = @p16, "SecurityStamp" = @p17, "TwoFactorEnabled" = @p18, "UpdatedAt" = @p19, "UserName" = @p20
WHERE "Id" = @p21 AND "ConcurrencyStamp" = @p22;
2025-08-25 15:47:58.656 +01:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.TokenDto'.
2025-08-25 15:47:58.695 +01:00 [INF] Executed action Presentation.Controllers.AuthenticationController.Authenticate (Presentation) in 8526.049ms
2025-08-25 15:47:58.704 +01:00 [INF] Executed endpoint 'Presentation.Controllers.AuthenticationController.Authenticate (Presentation)'
2025-08-25 15:47:58.727 +01:00 [INF] Request finished HTTP/1.1 POST http://localhost:5043/api/authentication/login - 200 null application/json; charset=utf-8 8870.9086ms
2025-08-25 15:48:19.921 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - null null
2025-08-25 15:48:20.100 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:48:20.118 +01:00 [INF] Route matched with {action = "GetFeedbackAnalytics", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeedbackAnalytics() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:48:20.643 +01:00 [INF] Executed DbCommand (289ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Feedbacks" AS f
2025-08-25 15:48:20.954 +01:00 [INF] Executed DbCommand (261ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT avg(f."Rating"::double precision)
FROM "Feedbacks" AS f
2025-08-25 15:48:21.466 +01:00 [ERR] Failed executing DbCommand (407ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Rating", f."Id", f."CreatedAt", f."Message", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
ORDER BY f."Rating"
2025-08-25 15:48:21.527 +01:00 [ERR] An exception occurred while iterating over the results of a query for context type 'Infrastructure.Repository.RepositoryContext'.
Npgsql.PostgresException (0x80004005): 42703: column f.CreatedAt does not exist

POSITION: 28
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column f.CreatedAt does not exist
    Position: 28
    File: parse_relation.c
    Line: 3716
    Routine: errorMissingColumn
Npgsql.PostgresException (0x80004005): 42703: column f.CreatedAt does not exist

POSITION: 28
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.MoveNextAsync()
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column f.CreatedAt does not exist
    Position: 28
    File: parse_relation.c
    Line: 3716
    Routine: errorMissingColumn
2025-08-25 15:48:21.580 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation) in 1453.8246ms
2025-08-25 15:48:21.591 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:48:21.599 +01:00 [ERR] An unhandled exception has occurred while executing the request.
Npgsql.PostgresException (0x80004005): 42703: column f.CreatedAt does not exist

POSITION: 28
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.GroupBySingleQueryingEnumerable`2.AsyncEnumerator.MoveNextAsync()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToDictionaryAsync[TSource,TKey,TElement](IQueryable`1 source, Func`2 keySelector, Func`2 elementSelector, IEqualityComparer`1 comparer, CancellationToken cancellationToken)
   at Infrastructure.Repository.FeedBackRepository.GetRatingDistributionAsync() in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\FeedBackRepository.cs:line 35
   at Application.Services.FeedbackService.GetFeedbackAnalyticsAsync() in C:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\FeedbackService.cs:line 51
   at Presentation.Controllers.FeedbackController.GetFeedbackAnalytics() in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\FeedbackController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
  Exception data:
    Severity: ERROR
    SqlState: 42703
    MessageText: column f.CreatedAt does not exist
    Position: 28
    File: parse_relation.c
    Line: 3716
    Routine: errorMissingColumn
2025-08-25 15:48:21.800 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - 500 null text/plain; charset=utf-8 1879.5483ms
2025-08-25 15:48:52.643 +01:00 [INF] Application is shutting down...
2025-08-25 15:50:27.666 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:50:27.907 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:50:27.913 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:50:27.917 +01:00 [INF] Hosting environment: Development
2025-08-25 15:50:27.921 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:50:30.786 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - null null
2025-08-25 15:50:30.857 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:50:31.148 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:50:31.184 +01:00 [INF] Route matched with {action = "GetFeedbackAnalytics", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeedbackAnalytics() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:50:36.913 +01:00 [INF] Executed DbCommand (353ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Feedbacks" AS f
2025-08-25 15:50:37.443 +01:00 [INF] Executed DbCommand (283ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT avg(f."Rating"::double precision)
FROM "Feedbacks" AS f
2025-08-25 15:50:37.954 +01:00 [INF] Executed DbCommand (337ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Rating", f."Id", f."CreatedAt", f."Message", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
ORDER BY f."Rating"
2025-08-25 15:50:38.408 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation) in 7205.727ms
2025-08-25 15:50:38.427 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:50:38.441 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<FeedBack>()
    .Where(f => f.CreatedAt >= __startDate_0)
    .GroupBy(f => new { 
        Year = f.CreatedAt.Year, 
        Month = f.CreatedAt.Month
     })
    .Select(g => new { 
        Month = string.Format(
            format: "{0}-{1:D2}", 
            arg0: (object)g.Key.Year, 
            arg1: (object)g.Key.Month), 
        Count = g
            .AsQueryable()
            .Count(), 
        AverageRating = g
            .AsQueryable()
            .Average(e => e.Rating)
     })
    .OrderBy(e0 => e0.Month)' could not be translated. Additional information: Translation of method 'string.Format' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<FeedBack>()
    .Where(f => f.CreatedAt >= __startDate_0)
    .GroupBy(f => new { 
        Year = f.CreatedAt.Year, 
        Month = f.CreatedAt.Month
     })
    .Select(g => new { 
        Month = string.Format(
            format: "{0}-{1:D2}", 
            arg0: (object)g.Key.Year, 
            arg1: (object)g.Key.Month), 
        Count = g
            .AsQueryable()
            .Count(), 
        AverageRating = g
            .AsQueryable()
            .Average(e => e.Rating)
     })
    .OrderBy(e0 => e0.Month)' could not be translated. Additional information: Translation of method 'string.Format' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Infrastructure.Repository.FeedBackRepository.<>c.<GetMonthlyTrendsAsync>b__8_4(Task`1 task) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\FeedBackRepository.cs:line 66
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Infrastructure.Repository.FeedBackRepository.GetMonthlyTrendsAsync(Int32 months) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\FeedBackRepository.cs:line 54
   at Application.Services.FeedbackService.GetFeedbackAnalyticsAsync() in C:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\FeedbackService.cs:line 52
   at Presentation.Controllers.FeedbackController.GetFeedbackAnalytics() in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\FeedbackController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-25 15:50:38.730 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - 500 null text/plain; charset=utf-8 7947.0605ms
2025-08-25 15:51:21.552 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback - null null
2025-08-25 15:51:21.590 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetAllFeedback (Presentation)'
2025-08-25 15:51:21.610 +01:00 [INF] Route matched with {action = "GetAllFeedback", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllFeedback() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:51:22.021 +01:00 [INF] Executed DbCommand (276ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."Message", f."Rating", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
2025-08-25 15:51:22.058 +01:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+ListSelectIterator`2[[Domain.Entities.Models.FeedBack, Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[Application.DTOs.FeedbackResponseDto, Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-25 15:51:22.175 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetAllFeedback (Presentation) in 522.0219ms
2025-08-25 15:51:22.185 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetAllFeedback (Presentation)'
2025-08-25 15:51:22.197 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback - 200 null application/json; charset=utf-8 644.5872ms
2025-08-25 15:51:28.926 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - null null
2025-08-25 15:51:28.969 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:51:28.974 +01:00 [INF] Route matched with {action = "GetFeedbackAnalytics", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeedbackAnalytics() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:51:29.410 +01:00 [INF] Executed DbCommand (235ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Feedbacks" AS f
2025-08-25 15:51:29.773 +01:00 [INF] Executed DbCommand (336ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT avg(f."Rating"::double precision)
FROM "Feedbacks" AS f
2025-08-25 15:51:30.059 +01:00 [INF] Executed DbCommand (272ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Rating", f."Id", f."CreatedAt", f."Message", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
ORDER BY f."Rating"
2025-08-25 15:51:30.099 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation) in 1114.1404ms
2025-08-25 15:51:30.114 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:51:30.145 +01:00 [ERR] An unhandled exception has occurred while executing the request.
System.AggregateException: One or more errors occurred. (The LINQ expression 'DbSet<FeedBack>()
    .Where(f => f.CreatedAt >= __startDate_0)
    .GroupBy(f => new { 
        Year = f.CreatedAt.Year, 
        Month = f.CreatedAt.Month
     })
    .Select(g => new { 
        Month = string.Format(
            format: "{0}-{1:D2}", 
            arg0: (object)g.Key.Year, 
            arg1: (object)g.Key.Month), 
        Count = g
            .AsQueryable()
            .Count(), 
        AverageRating = g
            .AsQueryable()
            .Average(e => e.Rating)
     })
    .OrderBy(e0 => e0.Month)' could not be translated. Additional information: Translation of method 'string.Format' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.)
 ---> System.InvalidOperationException: The LINQ expression 'DbSet<FeedBack>()
    .Where(f => f.CreatedAt >= __startDate_0)
    .GroupBy(f => new { 
        Year = f.CreatedAt.Year, 
        Month = f.CreatedAt.Month
     })
    .Select(g => new { 
        Month = string.Format(
            format: "{0}-{1:D2}", 
            arg0: (object)g.Key.Year, 
            arg1: (object)g.Key.Month), 
        Count = g
            .AsQueryable()
            .Count(), 
        AverageRating = g
            .AsQueryable()
            .Average(e => e.Rating)
     })
    .OrderBy(e0 => e0.Month)' could not be translated. Additional information: Translation of method 'string.Format' failed. If this method can be mapped to your custom function, see https://go.microsoft.com/fwlink/?linkid=2132413 for more information. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.
   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)
   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)
   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()
   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)
   at System.Runtime.CompilerServices.ConfiguredCancelableAsyncEnumerable`1.GetAsyncEnumerator()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at System.Threading.Tasks.Task.ThrowIfExceptional(Boolean includeTaskCanceledExceptions)
   at System.Threading.Tasks.Task`1.GetResultCore(Boolean waitCompletionNotification)
   at Infrastructure.Repository.FeedBackRepository.<>c.<GetMonthlyTrendsAsync>b__8_4(Task`1 task) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\FeedBackRepository.cs:line 66
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunFromThreadPoolDispatchLoop(Thread threadPoolThread, ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Infrastructure.Repository.FeedBackRepository.GetMonthlyTrendsAsync(Int32 months) in C:\Users\user\Desktop\c##\LLM-Advisor\Infrastructure\Repository\FeedBackRepository.cs:line 54
   at Application.Services.FeedbackService.GetFeedbackAnalyticsAsync() in C:\Users\user\Desktop\c##\LLM-Advisor\Application\Services\FeedbackService.cs:line 52
   at Presentation.Controllers.FeedbackController.GetFeedbackAnalytics() in C:\Users\user\Desktop\c##\LLM-Advisor\presentation\Controllers\FeedbackController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-08-25 15:51:30.308 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - 500 null text/plain; charset=utf-8 1382.0224ms
2025-08-25 15:51:37.067 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback/average-rating - null null
2025-08-25 15:51:37.081 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetAverageRating (Presentation)'
2025-08-25 15:51:37.102 +01:00 [INF] Route matched with {action = "GetAverageRating", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAverageRating() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:51:37.354 +01:00 [INF] Executed DbCommand (234ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT avg(f."Rating"::double precision)
FROM "Feedbacks" AS f
2025-08-25 15:51:37.599 +01:00 [INF] Executed DbCommand (231ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."CreatedAt", f."Message", f."Rating", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
2025-08-25 15:51:37.627 +01:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.FeedbackStatisticsDto'.
2025-08-25 15:51:37.646 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetAverageRating (Presentation) in 530.3294ms
2025-08-25 15:51:37.657 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetAverageRating (Presentation)'
2025-08-25 15:51:37.668 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback/average-rating - 200 null application/json; charset=utf-8 601.031ms
2025-08-25 15:52:07.779 +01:00 [INF] Application is shutting down...
2025-08-25 15:52:19.528 +01:00 [INF] User profile is available. Using 'C:\Users\user\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-08-25 15:52:19.736 +01:00 [INF] Now listening on: http://localhost:5043
2025-08-25 15:52:19.742 +01:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-25 15:52:19.747 +01:00 [INF] Hosting environment: Development
2025-08-25 15:52:19.752 +01:00 [INF] Content root path: C:\Users\user\Desktop\c##\LLM-Advisor\presentation
2025-08-25 15:52:25.224 +01:00 [INF] Request starting HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - null null
2025-08-25 15:52:25.277 +01:00 [WRN] Failed to determine the https port for redirect.
2025-08-25 15:52:25.500 +01:00 [INF] Executing endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:52:25.536 +01:00 [INF] Route matched with {action = "GetFeedbackAnalytics", controller = "Feedback"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFeedbackAnalytics() on controller Presentation.Controllers.FeedbackController (Presentation).
2025-08-25 15:52:31.506 +01:00 [INF] Executed DbCommand (293ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT count(*)::int
FROM "Feedbacks" AS f
2025-08-25 15:52:32.028 +01:00 [INF] Executed DbCommand (280ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT avg(f."Rating"::double precision)
FROM "Feedbacks" AS f
2025-08-25 15:52:32.655 +01:00 [INF] Executed DbCommand (233ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Rating", f."Id", f."CreatedAt", f."Message", f."SubmittedAt", f."UserId"
FROM "Feedbacks" AS f
ORDER BY f."Rating"
2025-08-25 15:52:33.366 +01:00 [INF] Executed DbCommand (320ms) [Parameters=[@__startDate_0='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Year", t."Month", count(*)::int AS "Count", avg(t."Rating"::double precision) AS "AverageRating"
FROM (
    SELECT f."Rating", date_part('year', f."CreatedAt" AT TIME ZONE 'UTC')::int AS "Year", date_part('month', f."CreatedAt" AT TIME ZONE 'UTC')::int AS "Month"
    FROM "Feedbacks" AS f
    WHERE f."CreatedAt" >= @__startDate_0
) AS t
GROUP BY t."Year", t."Month"
2025-08-25 15:52:33.929 +01:00 [INF] Executed DbCommand (258ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT t."Id", t."CreatedAt", t."Message", t."Rating", t."SubmittedAt", t."UserId", a."Id", a."AccessFailedCount", a."ConcurrencyStamp", a."CreatedAt", a."Email", a."EmailConfirmed", a."FirstName", a."LastName", a."LockoutEnabled", a."LockoutEnd", a."NormalizedEmail", a."NormalizedUserName", a."PasswordHash", a."PhoneNumber", a."PhoneNumberConfirmed", a."RefreshToken", a."RefreshTokenExpiryTime", a."Role", a."SecurityStamp", a."TwoFactorEnabled", a."UpdatedAt", a."UserName"
FROM (
    SELECT f."Id", f."CreatedAt", f."Message", f."Rating", f."SubmittedAt", f."UserId"
    FROM "Feedbacks" AS f
    ORDER BY f."CreatedAt" DESC
    LIMIT @__p_0
) AS t
INNER JOIN "AspNetUsers" AS a ON t."UserId" = a."Id"
ORDER BY t."CreatedAt" DESC
2025-08-25 15:52:33.994 +01:00 [INF] Executing OkObjectResult, writing value of type 'Application.DTOs.FeedbackAnalyticsDto'.
2025-08-25 15:52:34.133 +01:00 [INF] Executed action Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation) in 8577.8771ms
2025-08-25 15:52:34.152 +01:00 [INF] Executed endpoint 'Presentation.Controllers.FeedbackController.GetFeedbackAnalytics (Presentation)'
2025-08-25 15:52:34.204 +01:00 [INF] Request finished HTTP/1.1 GET http://localhost:5043/api/feedback/analytics - 200 null application/json; charset=utf-8 8982.506ms
2025-08-25 15:56:42.153 +01:00 [INF] Application is shutting down...
